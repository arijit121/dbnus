<!DOCTYPE html>
<html>
<head>
   
    <base href="$FLUTTER_BASE_HREF">

    <meta charset="UTF-8">
    <meta content="IE=Edge" http-equiv="X-UA-Compatible">
    <meta name="description"
          content="Test Content">

    <!-- iOS meta tags & icons -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title"
          content="Test title">
    <link rel="apple-touch-icon" href="icons/apple-touch-icon.png">

    <!-- Favicon -->

    <link rel="icon" href="icons/favicon.ico" sizes="any">


    <title>Test des</title>
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="styles.css" /> 
    <script>
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.9.1/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.9.1/firebase-analytics.js";
    import { getMessaging } from "https://www.gstatic.com/firebasejs/9.9.1/firebase-messagin.js";

    </script>
    <script>
    // The value below is injected by flutter build, do not touch.
    const serviceWorkerVersion = null;


    </script>
    <!--script-->
    <script src="js/customScript.js"></script>

    <!--Get CurrentUrl Iframe-->
    <script src="js/getCurrentUrlIframe.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/axios@1.1.2/dist/axios.min.js"></script>

    <!--staging-->
    <script crossorigin="anonymous"
            onload="onScriptLoad();"
            src="https://securegw-stage.paytm.in/merchantpgpui/checkoutjs/merchants/sastas46579384879393.js"
            type="application/javascript"></script>

    <!--Live-->
    <!--    <script type="application/javascript"-->
    <!--            src="https://securegw.paytm.in/merchantpgpui/checkoutjs/merchants/SYTREU36121227859525.js"-->
    <!--            onload="onScriptLoad();" crossorigin="anonymous"></script>-->

    <!--paytm-->
    <script src="js/paytm.js" type="text/javascript"></script>


    <!--download-->
    <script src="js/download.js" type="text/javascript"></script>


    <!-- Import helper to load UI Kit components -->
    <script type="module">
        import { defineCustomElements } from 'https://cdn.jsdelivr.net/npm/@dytesdk/ui-kit@latest/loader/index.es2017.js';
        defineCustomElements();
      </script>

    <!-- Import Web Core via CDN too -->
    <script src="https://cdn.dyte.in/core/dyte.js"></script>

    <script type="application/javascript" src="/assets/packages/flutter_inappwebview_web/assets/web/web_support.js"></script>

    <!-- This script adds the flutter initialization JS code -->
    <script src="flutter.js" defer></script>
</head>
<body>

   <!-- Create a progress bar container with a nested progress bar -->
   <div class="progress-container" id="progressbar">
    <div class="progress-bar" id="progress"></div>
  </div>
<script>
   /**
       * Creates a Promise that resolves after a specified delay.
       *
       * @param {number} delay - The delay duration in milliseconds.
       * @returns {Promise} A Promise that resolves after the specified delay.
       */
       function addDelay(delay) {
        return new Promise((resolve) => setTimeout(resolve, delay));
      }

      // Get references to the progress bar container and the progress bar element.
      const progress = document.getElementById("progress");
      const progressBar = document.getElementById("progressbar");

      // Set the initial width of the progress bar to 0%.
      progress.style.width = `0%`;

    window.addEventListener('load', function(ev) {
      // Set an initial progress of 33% when the page loads.
      progress.style.width = `33%`;
      // Download main.dart.js
      _flutter.loader.loadEntrypoint({
        serviceWorker: {
          serviceWorkerVersion: serviceWorkerVersion,
        },
        onEntrypointLoaded:async function(engineInitializer) {
           // Update progress to 66% after the entry point is loaded.
           progress.style.width = `66%`;
        // Initialize the Flutter engine.
        const appRunner = await engineInitializer.initializeEngine(
          {
            renderer: "html"
          });
        // Set progress to 99% before adding a delay.
        progress.style.width = `99%`;

        // Add a delay using the addDelay function.
        await addDelay(500);

        // Hide the progress bar by reducing its opacity.
        // This will create the fade out effect by animating the opacity.
        progressBar.style.opacity = 0;

        // Run the Flutter app.
        await appRunner.runApp();

        // Add a fade-in effect to the Flutter view element.
        document.querySelector("flutter-view").classList.add("fade-in");

        }
      });
    });


</script>
<script>
    if ('serviceWorker' in navigator) {
       // Service workers are supported. Use them.
       window.addEventListener('load', function () {
         // ADD THIS LINE
         navigator.serviceWorker.register('/firebase-messaging-sw.js');

         // Wait for registration to finish before dropping the <script> tag.
         // Otherwise, the browser will load the script multiple times,
         // potentially different versions.
         var serviceWorkerUrl = 'flutter_service_worker.js?v=' + serviceWorkerVersion;

         //  ...
       });
   }


</script>
</body>
</html>
